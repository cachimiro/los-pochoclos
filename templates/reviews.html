<style type="text/css">
 h2 {
  text-align: center;
 }

 h1 {
  text-align: center;
  margin: 30px;
  padding-bottom: 25px;
 }
 .hide-all-text{
  display: none;
 }
 
</style>
{% extends 'base.html' %} {% block content %}

<h1>Reviews</h1>

{% for opinion in opinion | reverse %}
<h2> {{ opinion.name }} {{ opinion.surname }} </h2>
<h3>{{ opinion.Title}} </h3>
<p class="{{ opinion.Opinion|truncate(200, True)}} ">{{ opinion.Opinion|truncate(200, True)}}</p>
<p id="{{ opinion._id }}" class="hide-all-text">{{ opinion.Opinion }}</p>

<button onclick="showMore('{{ opinion._id}}')" class="{{ opinion._id }}">Show more</button>
<button type="button" id="hide">Read less</button>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>

 function showMore(id) {
  var y = document.getElementsByClassName("{{ opinion._id }}");
  var x = document.getElementById("{{ opinion._id }}");
document.getElementById(id).click();
if (x.style.display === "block") {
    y.style.display === "none";
    x.style.display === "block";
} else {
 x.style.display === "none";
 
}

}
$(".{{ opinion._id }}").click(function(){
 $("#{{ opinion._id }}").toggle()
 
});
$(".{{ opinion._id }}").click(function(){
 $(".{{ opinion.Opinion|truncate(200, True)}}").hide()
});

</script>
<hr> {% endfor %}

<a class="btn btn-primary float-left col-sm-6" href="{{url_for('add_review')}}">Add a review</a>



{% endblock %}
